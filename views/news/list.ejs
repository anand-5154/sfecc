<%- include('../partials/header') %>

<div class="news-container">
    <h1 style="color: antiquewhite; margin-bottom: 30px;">Latest Updates</h1>

    <!-- Ongoing Matters Section -->
    <div class="ongoing-matters-box">
        <h2>ONGOING MATTERS</h2>
        <p>
            1.  OA 86 of 2025 SWM NH & Railways<br>
            2.  OA 281 of 2024 Retired DCF penalized for felling 800 trees in Madikeri Division<br>
            3.  OA72/2025 Sand petition<br>
            4.  AP/18/2025 Kharllan<br>
            5.  AP/36/2025 400 KVA 3.78 lakh trees<br> 
            6.  OA/125/2024 Kollur Sewage petition<br>
            7.  OA/150/2023 Phalguni river pollution IA2/2026<br>
            8.  OA/193/2025 MCC Sewage petition<br> 
            9.  OA/258/2024 Uliya Island sand petition 10. OA/201/2025 Kinnigoli sewage petition<br> 
            11.  EP/3/2025 Green highway policy execution petition<br> 
            12.  Tree Authority Contempt petition in Honorable High Court of Karnataka<br>
            13.  Central Empowered Committee of Supreme court of India One case pending related to Madhya Pradesh<br> 
            14.  IA 2/2026 Phalguni river pollution case.<br>
        </p>
    </div>

    <div class="news-header">
        <!-- Date Filter -->
        <!-- <div class="date-filter">
            <form action="/news" method="GET" id="dateFilterForm">
                <label for="dateSelect" style="color: aliceblue;">Filter by Date:</label>
                <select id="dateSelect" name="date" onchange="this.form.submit()">
                    <option value="">All Dates</option>
                    <% availableDates.forEach(date => { %>
                        <option value="<%= date %>" <%= selectedDate === date ? 'selected' : '' %>>
                            <%= new Date(date).toLocaleDateString() %>
                        </option>
                    <% }); %>
                </select>
            </form>
        </div> -->
    </div>

    <% if (news.length === 0) { %>
        <div class="no-news">
            <!-- <p>No news available for this date.</p> -->
        </div>
    <% } else { %>
        <div class="news-grid">
            <% news.forEach(item => { %>
                <div class="news-card">
                    <% if (item.mediaType === 'image' && item.mediaUrl) { %>
                        <img src="<%= item.mediaUrl %>" alt="<%= item.title %>">
                    <% } else if (item.mediaType === 'video' && item.mediaUrl) { %>
                        <video controls style="max-width:100%; height:auto; margin-bottom:15px;">
                            <source src="<%= item.mediaUrl %>" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    <% } %>
                    <div class="news-content">
                        <h3><%= item.title %></h3>
                        <p><%= item.content.substring(0, 150) %>...</p>
                        <div class="news-meta">
                            <span>By <%= item.createdBy.username %></span>
                            <span><%= new Date(item.createdAt).toLocaleDateString() %></span>
                        </div>
                        <a href="/news/<%= item._id %>" class="btn-secondary">Read More</a>
                    </div>
                </div>
            <% }) %>
        </div>
    <% } %>
</div>

<%- include('../partials/footer') %>