<%- include('../partials/header') %>

<div class="about-container">
    <h1>Edit News</h1>
    <form action="/news/<%= news._id %>/edit" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="<%= news.title %>" required>
        </div>
        <div class="form-group">
            <label for="content">Content</label>
            <textarea id="content" name="content" rows="6" required><%= news.content %></textarea>
        </div>
        <% if (news.mediaType === 'image' && news.mediaUrl) { %>
            <div class="form-group">
                <label>Current Image</label>
                <img src="<%= news.mediaUrl %>" alt="Current Image" style="max-width:200px; display:block; margin-bottom:10px;">
            </div>
        <% } else if (news.mediaType === 'video' && news.mediaUrl) { %>
            <div class="form-group">
                <label>Current Video</label>
                <video controls style="max-width:200px; display:block; margin-bottom:10px;">
                    <source src="<%= news.mediaUrl %>" type="video/mp4">
                </video>
            </div>
        <% } %>
        <div class="form-group">
            <label for="media">Replace Media (optional)</label>
            <input type="file" id="media" name="media">
        </div>
        <button type="submit" class="btn-primary">Update News</button>
        <a href="/news/<%= news._id %>" class="btn-secondary" style="margin-left:10px;">Cancel</a>
    </form>
</div>

<%- include('../partials/footer') %>
